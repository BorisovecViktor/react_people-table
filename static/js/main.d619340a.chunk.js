(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{26:function(e,t,a){e.exports=a(45)},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),l=a.n(c),o=a(6),s=a(1),u=function(){return r.a.createElement("h1",null,"Home page")},m=a(8),i=a.n(m),p=a(16),h=a(11),f=a(15),b=a(24),d=a.n(b),E=a(10),v=a.n(E),g=function(){var e=Object(h.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.people,a=Object(s.i)().personSlug,n=Object(s.h)(),c=Object(s.g)();return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement("tr",{className:v()("person",{"table-active":e.slug===a}),key:e.id},r.a.createElement("th",{scope:"row"},e.id),r.a.createElement("td",null,r.a.createElement("button",{type:"button",onClick:function(){c.push({pathname:"/people/".concat(e.slug),search:n.search})}},e.name)),r.a.createElement("td",{className:v()({person__male:"m"===e.sex,person__female:"f"===e.sex})},e.sex),r.a.createElement("td",null,e.born),r.a.createElement("td",null,e.died),r.a.createElement("td",null,e.mother?r.a.createElement("button",{type:"button",className:"person__female",onClick:function(){var t;c.push({pathname:"/people/".concat(null===(t=e.mother)||void 0===t?void 0:t.slug),search:n.search})}},e.motherName):r.a.createElement("span",null,e.motherName)),r.a.createElement("td",null,e.mother?r.a.createElement("button",{type:"button",className:"person__male",onClick:function(){var t;c.push({pathname:"/people/".concat(null===(t=e.father)||void 0===t?void 0:t.slug),search:n.search})}},e.fatherName):r.a.createElement("span",null,e.fatherName)))})))},w=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(s.g)(),o=Object(s.h)(),u=new URLSearchParams(o.search),m=Object(n.useMemo)((function(){return u.get("query")||""}),[u]),b=Object(n.useMemo)((function(){return u.get("sortBy")||""}),[u]),E=Object(n.useMemo)((function(){return u.get("sortOrder")||""}),[u]),w=Object(n.useState)(m),_=Object(f.a)(w,2),j=_[0],O=_[1];Object(n.useEffect)((function(){(function(){var e=Object(h.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t.map((function(e,a){return Object(p.a)(Object(p.a)({},e),{},{id:a+1,mother:t.find((function(t){return t.name===e.motherName})),father:t.find((function(t){return t.name===e.fatherName}))})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var x=Object(n.useCallback)(d()((function(e){l.push({search:e})}),500),[]),k=Object(n.useMemo)((function(){return e=m,a.filter((function(t){return"".concat(t.name," ").concat(t.motherName," ").concat(t.fatherName).toLocaleLowerCase().includes(e.toLocaleLowerCase().trim())}));var e}),[a,m]);Object(n.useMemo)((function(){return O(m)}),[m]),Object(n.useMemo)((function(){switch(E){case"desc":switch(b){case"born":case"died":k.sort((function(e,t){return t[b]-e[b]}));break;case"name":case"sex":k.sort((function(e,t){return t[b].localeCompare(e[b])}))}break;case"asc":switch(b){case"born":case"died":k.sort((function(e,t){return e[b]-t[b]}));break;case"name":case"sex":k.sort((function(e,t){return e[b].localeCompare(t[b])}))}}}),[k,E,b]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:j,onChange:function(e){var t=e.currentTarget.value;t?u.set("query",t):u.delete("query"),x(u.toString()),O(t)}}),r.a.createElement("table",{className:"PeopleTable table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"thead-light"},["id","name","sex","born","died","mother","father"].map((function(e){return r.a.createElement("th",{scope:"col",className:v()({"bg-info":u.get("sortBy")===e}),abbr:e,key:e,onClick:function(){return function(e){var t="asc"===E?"desc":"asc";["born","died","name","sex"].includes(e)&&(u.set("sortBy",e),u.set("sortOrder",t),l.push({search:u.toString()}))}(e)}},u.get("sortBy")===e&&("asc"===E?r.a.createElement("svg",{className:"bi bi-caret-up-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M7.247 4.86l-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z"})):r.a.createElement("svg",{className:"bi bi-caret-down-fill",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"}))),e)})))),r.a.createElement("tbody",null,r.a.createElement(N,{people:k}))))},_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"People page"),r.a.createElement(w,null))},j=(a(44),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav__list"},r.a.createElement("li",{className:"nav__item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"nav__link",activeClassName:"nav__link--active"},"Home page")),r.a.createElement("li",{className:"nav__item"},r.a.createElement(o.b,{to:"/people",className:"nav__link",activeClassName:"nav__link--active"},"People page"))))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:u}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,{path:"/people/:personSlug?",component:_}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Page not found"))))});l.a.render(r.a.createElement(o.a,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d619340a.chunk.js.map